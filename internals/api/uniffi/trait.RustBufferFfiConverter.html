<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="generator" content="rustdoc"><meta name="description" content="A helper trait to implement lowering/lifting using a `RustBuffer`"><meta name="keywords" content="rust, rustlang, rust-lang, RustBufferFfiConverter"><title>RustBufferFfiConverter in uniffi - Rust</title><link rel="preload" as="font" type="font/woff2" crossorigin href="../SourceSerif4-Regular.ttf.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../FiraSans-Regular.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../FiraSans-Medium.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../SourceCodePro-Regular.ttf.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../SourceSerif4-Bold.ttf.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../SourceCodePro-Semibold.ttf.woff2"><link rel="stylesheet" href="../normalize.css"><link rel="stylesheet" href="../rustdoc.css" id="mainThemeStyle"><link rel="stylesheet" href="../ayu.css" disabled><link rel="stylesheet" href="../dark.css" disabled><link rel="stylesheet" href="../light.css" id="themeStyle"><script id="default-settings" ></script><script src="../storage.js"></script><script defer src="sidebar-items.js"></script><script defer src="../main.js"></script><noscript><link rel="stylesheet" href="../noscript.css"></noscript><link rel="alternate icon" type="image/png" href="../favicon-16x16.png"><link rel="alternate icon" type="image/png" href="../favicon-32x32.png"><link rel="icon" type="image/svg+xml" href="../favicon.svg"></head><body class="rustdoc trait"><!--[if lte IE 11]><div class="warning">This old browser is unsupported and will most likely display funky things.</div><![endif]--><nav class="mobile-topbar"><button class="sidebar-menu-toggle">&#9776;</button><a class="sidebar-logo" href="../uniffi/index.html"><div class="logo-container"><img class="rust-logo" src="../rust-logo.svg" alt="logo"></div></a><h2></h2></nav><nav class="sidebar"><a class="sidebar-logo" href="../uniffi/index.html"><div class="logo-container"><img class="rust-logo" src="../rust-logo.svg" alt="logo"></div></a><h2 class="location"><a href="#">RustBufferFfiConverter</a></h2><div class="sidebar-elems"><section><h3><a href="#required-associated-types">Required Associated Types</a></h3><ul class="block"><li><a href="#associatedtype.RustType">RustType</a></li></ul><h3><a href="#required-methods">Required Methods</a></h3><ul class="block"><li><a href="#tymethod.try_read">try_read</a></li><li><a href="#tymethod.write">write</a></li></ul><h3><a href="#foreign-impls">Implementations on Foreign Types</a></h3><ul class="block"><li><a href="#impl-RustBufferFfiConverter-for-HashMap%3CK%2C%20V%2C%20RandomState%3E">HashMap&lt;K, V, RandomState&gt;</a></li><li><a href="#impl-RustBufferFfiConverter-for-SystemTime">SystemTime</a></li><li><a href="#impl-RustBufferFfiConverter-for-Vec%3CT%2C%20Global%3E">Vec&lt;T, Global&gt;</a></li></ul><h3><a href="#implementors">Implementors</a></h3></section><h2><a href="index.html">In uniffi</a></h2></div></nav><main><div class="width-limiter"><nav class="sub"><form class="search-form"><span></span><input class="search-input" name="search" autocomplete="off" spellcheck="false" placeholder="Click or press ‘S’ to search, ‘?’ for more options…" type="search"><div id="help-button" title="help" tabindex="-1"><a href="../help.html">?</a></div><div id="settings-menu" tabindex="-1"><a href="../settings.html" title="settings"><img width="22" height="22" alt="Change settings" src="../wheel.svg"></a></div></form></nav><section id="main-content" class="content"><div class="main-heading"><h1 class="fqn">Trait <a href="index.html">uniffi</a>::<wbr><a class="trait" href="#">RustBufferFfiConverter</a><button id="copy-path" onclick="copy_path(this)" title="Copy item path to clipboard"><img src="../clipboard.svg" width="19" height="18" alt="Copy item path"></button></h1><span class="out-of-band"><a id="toggle-all-docs" href="javascript:void(0)" title="collapse all docs">[<span class="inner">&#x2212;</span>]</a></span></div><div class="item-decl"><pre class="rust trait"><code>pub trait RustBufferFfiConverter: <a class="trait" href="deps/static_assertions/_core/marker/trait.Sized.html" title="trait uniffi::deps::static_assertions::_core::marker::Sized">Sized</a> {
    type <a href="#associatedtype.RustType" class="associatedtype">RustType</a>;

    fn <a href="#tymethod.write" class="fnname">write</a>(obj: Self::<a class="associatedtype" href="trait.RustBufferFfiConverter.html#associatedtype.RustType" title="type uniffi::RustBufferFfiConverter::RustType">RustType</a>, buf: &amp;mut <a class="struct" href="https://doc.rust-lang.org/1.66.0/alloc/vec/struct.Vec.html" title="struct alloc::vec::Vec">Vec</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/1.66.0/std/primitive.u8.html">u8</a>, <a class="struct" href="https://doc.rust-lang.org/1.66.0/alloc/alloc/struct.Global.html" title="struct alloc::alloc::Global">Global</a>&gt;);
<span class="item-spacer"></span>    fn <a href="#tymethod.try_read" class="fnname">try_read</a>(buf: &amp;mut &amp;[<a class="primitive" href="https://doc.rust-lang.org/1.66.0/std/primitive.u8.html">u8</a>]) -&gt; <a class="enum" href="deps/static_assertions/_core/result/enum.Result.html" title="enum uniffi::deps::static_assertions::_core::result::Result">Result</a>&lt;Self::<a class="associatedtype" href="trait.RustBufferFfiConverter.html#associatedtype.RustType" title="type uniffi::RustBufferFfiConverter::RustType">RustType</a>, <a class="struct" href="deps/anyhow/struct.Error.html" title="struct uniffi::deps::anyhow::Error">Error</a>&gt;;
}</code></pre></div><details class="rustdoc-toggle top-doc" open><summary class="hideme"><span>Expand description</span></summary><div class="docblock"><p>A helper trait to implement lowering/lifting using a <code>RustBuffer</code></p>
<p>For complex types where it’s too fiddly or too unsafe to convert them into a special-purpose
C-compatible value, you can use this trait to implement <code>lower()</code> in terms of <code>write()</code> and
<code>lift</code> in terms of <code>read()</code>.</p>
</div></details><h2 id="required-associated-types" class="small-section-header">Required Associated Types<a href="#required-associated-types" class="anchor"></a></h2><div class="methods"><section id="associatedtype.RustType" class="method has-srclink"><h4 class="code-header">type <a href="#associatedtype.RustType" class="associatedtype">RustType</a></h4></section></div><h2 id="required-methods" class="small-section-header">Required Methods<a href="#required-methods" class="anchor"></a></h2><div class="methods"><section id="tymethod.write" class="method has-srclink"><h4 class="code-header">fn <a href="#tymethod.write" class="fnname">write</a>(obj: Self::<a class="associatedtype" href="trait.RustBufferFfiConverter.html#associatedtype.RustType" title="type uniffi::RustBufferFfiConverter::RustType">RustType</a>, buf: &amp;mut <a class="struct" href="https://doc.rust-lang.org/1.66.0/alloc/vec/struct.Vec.html" title="struct alloc::vec::Vec">Vec</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/1.66.0/std/primitive.u8.html">u8</a>, <a class="struct" href="https://doc.rust-lang.org/1.66.0/alloc/alloc/struct.Global.html" title="struct alloc::alloc::Global">Global</a>&gt;)</h4></section><section id="tymethod.try_read" class="method has-srclink"><h4 class="code-header">fn <a href="#tymethod.try_read" class="fnname">try_read</a>(buf: &amp;mut &amp;[<a class="primitive" href="https://doc.rust-lang.org/1.66.0/std/primitive.u8.html">u8</a>]) -&gt; <a class="enum" href="deps/static_assertions/_core/result/enum.Result.html" title="enum uniffi::deps::static_assertions::_core::result::Result">Result</a>&lt;Self::<a class="associatedtype" href="trait.RustBufferFfiConverter.html#associatedtype.RustType" title="type uniffi::RustBufferFfiConverter::RustType">RustType</a>, <a class="struct" href="deps/anyhow/struct.Error.html" title="struct uniffi::deps::anyhow::Error">Error</a>&gt;</h4></section></div><h2 id="foreign-impls" class="small-section-header">Implementations on Foreign Types<a href="#foreign-impls" class="anchor"></a></h2><details class="rustdoc-toggle implementors-toggle"><summary><section id="impl-RustBufferFfiConverter-for-SystemTime" class="impl has-srclink"><a href="#impl-RustBufferFfiConverter-for-SystemTime" class="anchor"></a><h3 class="code-header">impl <a class="trait" href="trait.RustBufferFfiConverter.html" title="trait uniffi::RustBufferFfiConverter">RustBufferFfiConverter</a> for <a class="struct" href="https://doc.rust-lang.org/1.66.0/std/time/struct.SystemTime.html" title="struct std::time::SystemTime">SystemTime</a></h3></section></summary><div class="docblock"><p>Support for passing timestamp values via the FFI.</p>
<p>Timestamps values are currently always passed by serializing to a buffer.</p>
<p>Timestamps are represented on the buffer by an i64 that indicates the
direction and the magnitude in seconds of the offset from epoch, and a
u32 that indicates the nanosecond portion of the offset magnitude. The
nanosecond portion is expected to be between 0 and 999,999,999.</p>
<p>To build an epoch offset the absolute value of the seconds portion of the
offset should be combined with the nanosecond portion. This is because
the sign of the seconds portion represents the direction of the offset
overall. The sign of the seconds portion can then be used to determine
if the total offset should be added to or subtracted from the unix epoch.</p>
</div><div class="impl-items"><section id="associatedtype.RustType-1" class="associatedtype trait-impl has-srclink"><a href="#associatedtype.RustType-1" class="anchor"></a><h4 class="code-header">type <a href="#associatedtype.RustType" class="associatedtype">RustType</a> = <a class="struct" href="https://doc.rust-lang.org/1.66.0/std/time/struct.SystemTime.html" title="struct std::time::SystemTime">SystemTime</a></h4></section><section id="method.write" class="method trait-impl has-srclink"><a href="#method.write" class="anchor"></a><h4 class="code-header">fn <a href="#tymethod.write" class="fnname">write</a>(<br>&nbsp;&nbsp;&nbsp;&nbsp;obj: &lt;<a class="struct" href="https://doc.rust-lang.org/1.66.0/std/time/struct.SystemTime.html" title="struct std::time::SystemTime">SystemTime</a> as <a class="trait" href="trait.RustBufferFfiConverter.html" title="trait uniffi::RustBufferFfiConverter">RustBufferFfiConverter</a>&gt;::<a class="associatedtype" href="trait.RustBufferFfiConverter.html#associatedtype.RustType" title="type uniffi::RustBufferFfiConverter::RustType">RustType</a>,<br>&nbsp;&nbsp;&nbsp;&nbsp;buf: &amp;mut <a class="struct" href="https://doc.rust-lang.org/1.66.0/alloc/vec/struct.Vec.html" title="struct alloc::vec::Vec">Vec</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/1.66.0/std/primitive.u8.html">u8</a>, <a class="struct" href="https://doc.rust-lang.org/1.66.0/alloc/alloc/struct.Global.html" title="struct alloc::alloc::Global">Global</a>&gt;<br>)</h4></section><section id="method.try_read" class="method trait-impl has-srclink"><a href="#method.try_read" class="anchor"></a><h4 class="code-header">fn <a href="#tymethod.try_read" class="fnname">try_read</a>(<br>&nbsp;&nbsp;&nbsp;&nbsp;buf: &amp;mut &amp;[<a class="primitive" href="https://doc.rust-lang.org/1.66.0/std/primitive.u8.html">u8</a>]<br>) -&gt; <a class="enum" href="deps/static_assertions/_core/result/enum.Result.html" title="enum uniffi::deps::static_assertions::_core::result::Result">Result</a>&lt;&lt;<a class="struct" href="https://doc.rust-lang.org/1.66.0/std/time/struct.SystemTime.html" title="struct std::time::SystemTime">SystemTime</a> as <a class="trait" href="trait.RustBufferFfiConverter.html" title="trait uniffi::RustBufferFfiConverter">RustBufferFfiConverter</a>&gt;::<a class="associatedtype" href="trait.RustBufferFfiConverter.html#associatedtype.RustType" title="type uniffi::RustBufferFfiConverter::RustType">RustType</a>, <a class="struct" href="deps/anyhow/struct.Error.html" title="struct uniffi::deps::anyhow::Error">Error</a>&gt;</h4></section></div></details><details class="rustdoc-toggle implementors-toggle"><summary><section id="impl-RustBufferFfiConverter-for-HashMap%3CK%2C%20V%2C%20RandomState%3E" class="impl has-srclink"><a href="#impl-RustBufferFfiConverter-for-HashMap%3CK%2C%20V%2C%20RandomState%3E" class="anchor"></a><h3 class="code-header">impl&lt;K, V&gt; <a class="trait" href="trait.RustBufferFfiConverter.html" title="trait uniffi::RustBufferFfiConverter">RustBufferFfiConverter</a> for <a class="struct" href="https://doc.rust-lang.org/1.66.0/std/collections/hash/map/struct.HashMap.html" title="struct std::collections::hash::map::HashMap">HashMap</a>&lt;K, V, <a class="struct" href="https://doc.rust-lang.org/1.66.0/std/collections/hash/map/struct.RandomState.html" title="struct std::collections::hash::map::RandomState">RandomState</a>&gt;<span class="where fmt-newline">where<br>&nbsp;&nbsp;&nbsp;&nbsp;K: <a class="trait" href="trait.FfiConverter.html" title="trait uniffi::FfiConverter">FfiConverter</a>,<br>&nbsp;&nbsp;&nbsp;&nbsp;V: <a class="trait" href="trait.FfiConverter.html" title="trait uniffi::FfiConverter">FfiConverter</a>,<br>&nbsp;&nbsp;&nbsp;&nbsp;&lt;K as <a class="trait" href="trait.FfiConverter.html" title="trait uniffi::FfiConverter">FfiConverter</a>&gt;::<a class="associatedtype" href="trait.FfiConverter.html#associatedtype.RustType" title="type uniffi::FfiConverter::RustType">RustType</a>: <a class="trait" href="deps/static_assertions/_core/hash/trait.Hash.html" title="trait uniffi::deps::static_assertions::_core::hash::Hash">Hash</a> + <a class="trait" href="deps/static_assertions/_core/cmp/trait.Eq.html" title="trait uniffi::deps::static_assertions::_core::cmp::Eq">Eq</a>,</span></h3></section></summary><div class="docblock"><p>Support for associative arrays via the FFI.
Note that because of webidl limitations,
the key must always be of the String type.</p>
<p>HashMaps are currently always passed by serializing to a buffer.
We write a <code>i32</code> entries count followed by each entry (string
key followed by the value) in turn.
(It’s a signed type due to limits of the JVM).</p>
</div><div class="impl-items"><section id="associatedtype.RustType-2" class="associatedtype trait-impl has-srclink"><a href="#associatedtype.RustType-2" class="anchor"></a><h4 class="code-header">type <a href="#associatedtype.RustType" class="associatedtype">RustType</a> = <a class="struct" href="https://doc.rust-lang.org/1.66.0/std/collections/hash/map/struct.HashMap.html" title="struct std::collections::hash::map::HashMap">HashMap</a>&lt;&lt;K as <a class="trait" href="trait.FfiConverter.html" title="trait uniffi::FfiConverter">FfiConverter</a>&gt;::<a class="associatedtype" href="trait.FfiConverter.html#associatedtype.RustType" title="type uniffi::FfiConverter::RustType">RustType</a>, &lt;V as <a class="trait" href="trait.FfiConverter.html" title="trait uniffi::FfiConverter">FfiConverter</a>&gt;::<a class="associatedtype" href="trait.FfiConverter.html#associatedtype.RustType" title="type uniffi::FfiConverter::RustType">RustType</a>, <a class="struct" href="https://doc.rust-lang.org/1.66.0/std/collections/hash/map/struct.RandomState.html" title="struct std::collections::hash::map::RandomState">RandomState</a>&gt;</h4></section><section id="method.write-1" class="method trait-impl has-srclink"><a href="#method.write-1" class="anchor"></a><h4 class="code-header">fn <a href="#tymethod.write" class="fnname">write</a>(<br>&nbsp;&nbsp;&nbsp;&nbsp;obj: &lt;<a class="struct" href="https://doc.rust-lang.org/1.66.0/std/collections/hash/map/struct.HashMap.html" title="struct std::collections::hash::map::HashMap">HashMap</a>&lt;K, V, <a class="struct" href="https://doc.rust-lang.org/1.66.0/std/collections/hash/map/struct.RandomState.html" title="struct std::collections::hash::map::RandomState">RandomState</a>&gt; as <a class="trait" href="trait.RustBufferFfiConverter.html" title="trait uniffi::RustBufferFfiConverter">RustBufferFfiConverter</a>&gt;::<a class="associatedtype" href="trait.RustBufferFfiConverter.html#associatedtype.RustType" title="type uniffi::RustBufferFfiConverter::RustType">RustType</a>,<br>&nbsp;&nbsp;&nbsp;&nbsp;buf: &amp;mut <a class="struct" href="https://doc.rust-lang.org/1.66.0/alloc/vec/struct.Vec.html" title="struct alloc::vec::Vec">Vec</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/1.66.0/std/primitive.u8.html">u8</a>, <a class="struct" href="https://doc.rust-lang.org/1.66.0/alloc/alloc/struct.Global.html" title="struct alloc::alloc::Global">Global</a>&gt;<br>)</h4></section><section id="method.try_read-1" class="method trait-impl has-srclink"><a href="#method.try_read-1" class="anchor"></a><h4 class="code-header">fn <a href="#tymethod.try_read" class="fnname">try_read</a>(<br>&nbsp;&nbsp;&nbsp;&nbsp;buf: &amp;mut &amp;[<a class="primitive" href="https://doc.rust-lang.org/1.66.0/std/primitive.u8.html">u8</a>]<br>) -&gt; <a class="enum" href="deps/static_assertions/_core/result/enum.Result.html" title="enum uniffi::deps::static_assertions::_core::result::Result">Result</a>&lt;&lt;<a class="struct" href="https://doc.rust-lang.org/1.66.0/std/collections/hash/map/struct.HashMap.html" title="struct std::collections::hash::map::HashMap">HashMap</a>&lt;K, V, <a class="struct" href="https://doc.rust-lang.org/1.66.0/std/collections/hash/map/struct.RandomState.html" title="struct std::collections::hash::map::RandomState">RandomState</a>&gt; as <a class="trait" href="trait.RustBufferFfiConverter.html" title="trait uniffi::RustBufferFfiConverter">RustBufferFfiConverter</a>&gt;::<a class="associatedtype" href="trait.RustBufferFfiConverter.html#associatedtype.RustType" title="type uniffi::RustBufferFfiConverter::RustType">RustType</a>, <a class="struct" href="deps/anyhow/struct.Error.html" title="struct uniffi::deps::anyhow::Error">Error</a>&gt;</h4></section></div></details><details class="rustdoc-toggle implementors-toggle"><summary><section id="impl-RustBufferFfiConverter-for-Vec%3CT%2C%20Global%3E" class="impl has-srclink"><a href="#impl-RustBufferFfiConverter-for-Vec%3CT%2C%20Global%3E" class="anchor"></a><h3 class="code-header">impl&lt;T&gt; <a class="trait" href="trait.RustBufferFfiConverter.html" title="trait uniffi::RustBufferFfiConverter">RustBufferFfiConverter</a> for <a class="struct" href="https://doc.rust-lang.org/1.66.0/alloc/vec/struct.Vec.html" title="struct alloc::vec::Vec">Vec</a>&lt;T, <a class="struct" href="https://doc.rust-lang.org/1.66.0/alloc/alloc/struct.Global.html" title="struct alloc::alloc::Global">Global</a>&gt;<span class="where fmt-newline">where<br>&nbsp;&nbsp;&nbsp;&nbsp;T: <a class="trait" href="trait.FfiConverter.html" title="trait uniffi::FfiConverter">FfiConverter</a>,</span></h3></section></summary><div class="docblock"><p>Support for passing vectors of values via the FFI.</p>
<p>Vectors are currently always passed by serializing to a buffer.
We write a <code>i32</code> item count followed by each item in turn.
(It’s a signed type due to limits of the JVM).</p>
<p>Ideally we would pass <code>Vec&lt;u8&gt;</code> directly as a <code>RustBuffer</code> rather
than serializing, and perhaps even pass other vector types using a
similar struct. But that’s for future work.</p>
</div><div class="impl-items"><section id="associatedtype.RustType-3" class="associatedtype trait-impl has-srclink"><a href="#associatedtype.RustType-3" class="anchor"></a><h4 class="code-header">type <a href="#associatedtype.RustType" class="associatedtype">RustType</a> = <a class="struct" href="https://doc.rust-lang.org/1.66.0/alloc/vec/struct.Vec.html" title="struct alloc::vec::Vec">Vec</a>&lt;&lt;T as <a class="trait" href="trait.FfiConverter.html" title="trait uniffi::FfiConverter">FfiConverter</a>&gt;::<a class="associatedtype" href="trait.FfiConverter.html#associatedtype.RustType" title="type uniffi::FfiConverter::RustType">RustType</a>, <a class="struct" href="https://doc.rust-lang.org/1.66.0/alloc/alloc/struct.Global.html" title="struct alloc::alloc::Global">Global</a>&gt;</h4></section><section id="method.write-2" class="method trait-impl has-srclink"><a href="#method.write-2" class="anchor"></a><h4 class="code-header">fn <a href="#tymethod.write" class="fnname">write</a>(<br>&nbsp;&nbsp;&nbsp;&nbsp;obj: &lt;<a class="struct" href="https://doc.rust-lang.org/1.66.0/alloc/vec/struct.Vec.html" title="struct alloc::vec::Vec">Vec</a>&lt;T, <a class="struct" href="https://doc.rust-lang.org/1.66.0/alloc/alloc/struct.Global.html" title="struct alloc::alloc::Global">Global</a>&gt; as <a class="trait" href="trait.RustBufferFfiConverter.html" title="trait uniffi::RustBufferFfiConverter">RustBufferFfiConverter</a>&gt;::<a class="associatedtype" href="trait.RustBufferFfiConverter.html#associatedtype.RustType" title="type uniffi::RustBufferFfiConverter::RustType">RustType</a>,<br>&nbsp;&nbsp;&nbsp;&nbsp;buf: &amp;mut <a class="struct" href="https://doc.rust-lang.org/1.66.0/alloc/vec/struct.Vec.html" title="struct alloc::vec::Vec">Vec</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/1.66.0/std/primitive.u8.html">u8</a>, <a class="struct" href="https://doc.rust-lang.org/1.66.0/alloc/alloc/struct.Global.html" title="struct alloc::alloc::Global">Global</a>&gt;<br>)</h4></section><section id="method.try_read-2" class="method trait-impl has-srclink"><a href="#method.try_read-2" class="anchor"></a><h4 class="code-header">fn <a href="#tymethod.try_read" class="fnname">try_read</a>(<br>&nbsp;&nbsp;&nbsp;&nbsp;buf: &amp;mut &amp;[<a class="primitive" href="https://doc.rust-lang.org/1.66.0/std/primitive.u8.html">u8</a>]<br>) -&gt; <a class="enum" href="deps/static_assertions/_core/result/enum.Result.html" title="enum uniffi::deps::static_assertions::_core::result::Result">Result</a>&lt;&lt;<a class="struct" href="https://doc.rust-lang.org/1.66.0/alloc/vec/struct.Vec.html" title="struct alloc::vec::Vec">Vec</a>&lt;T, <a class="struct" href="https://doc.rust-lang.org/1.66.0/alloc/alloc/struct.Global.html" title="struct alloc::alloc::Global">Global</a>&gt; as <a class="trait" href="trait.RustBufferFfiConverter.html" title="trait uniffi::RustBufferFfiConverter">RustBufferFfiConverter</a>&gt;::<a class="associatedtype" href="trait.RustBufferFfiConverter.html#associatedtype.RustType" title="type uniffi::RustBufferFfiConverter::RustType">RustType</a>, <a class="struct" href="deps/anyhow/struct.Error.html" title="struct uniffi::deps::anyhow::Error">Error</a>&gt;</h4></section></div></details><h2 id="implementors" class="small-section-header">Implementors<a href="#implementors" class="anchor"></a></h2><div id="implementors-list"><details class="rustdoc-toggle implementors-toggle"><summary><section id="impl-RustBufferFfiConverter-for-Duration" class="impl has-srclink"><a href="#impl-RustBufferFfiConverter-for-Duration" class="anchor"></a><h3 class="code-header">impl <a class="trait" href="trait.RustBufferFfiConverter.html" title="trait uniffi::RustBufferFfiConverter">RustBufferFfiConverter</a> for <a class="struct" href="deps/static_assertions/_core/time/struct.Duration.html" title="struct uniffi::deps::static_assertions::_core::time::Duration">Duration</a></h3></section></summary><div class="docblock"><p>Support for passing duration values via the FFI.</p>
<p>Duration values are currently always passed by serializing to a buffer.</p>
<p>Durations are represented on the buffer by a u64 that indicates the
magnitude in seconds, and a u32 that indicates the nanosecond portion
of the magnitude. The nanosecond portion is expected to be between 0
and 999,999,999.</p>
</div><div class="impl-items"><section id="associatedtype.RustType-4" class="associatedtype trait-impl has-srclink"><a href="#associatedtype.RustType-4" class="anchor"></a><h4 class="code-header">type <a href="#associatedtype.RustType" class="associatedtype">RustType</a> = <a class="struct" href="deps/static_assertions/_core/time/struct.Duration.html" title="struct uniffi::deps::static_assertions::_core::time::Duration">Duration</a></h4></section></div></details><details class="rustdoc-toggle implementors-toggle"><summary><section id="impl-RustBufferFfiConverter-for-Option%3CT%3E" class="impl has-srclink"><a href="#impl-RustBufferFfiConverter-for-Option%3CT%3E" class="anchor"></a><h3 class="code-header">impl&lt;T&gt; <a class="trait" href="trait.RustBufferFfiConverter.html" title="trait uniffi::RustBufferFfiConverter">RustBufferFfiConverter</a> for <a class="enum" href="deps/static_assertions/_core/option/enum.Option.html" title="enum uniffi::deps::static_assertions::_core::option::Option">Option</a>&lt;T&gt;<span class="where fmt-newline">where<br>&nbsp;&nbsp;&nbsp;&nbsp;T: <a class="trait" href="trait.FfiConverter.html" title="trait uniffi::FfiConverter">FfiConverter</a>,</span></h3></section></summary><div class="docblock"><p>Support for passing optional values via the FFI.</p>
<p>Optional values are currently always passed by serializing to a buffer.
We write either a zero byte for <code>None</code>, or a one byte followed by the containing
item for <code>Some</code>.</p>
<p>In future we could do the same optimization as rust uses internally, where the
<code>None</code> option is represented as a null pointer and the <code>Some</code> as a valid pointer,
but that seems more fiddly and less safe in the short term, so it can wait.</p>
</div><div class="impl-items"><section id="associatedtype.RustType-5" class="associatedtype trait-impl has-srclink"><a href="#associatedtype.RustType-5" class="anchor"></a><h4 class="code-header">type <a href="#associatedtype.RustType" class="associatedtype">RustType</a> = <a class="enum" href="deps/static_assertions/_core/option/enum.Option.html" title="enum uniffi::deps::static_assertions::_core::option::Option">Option</a>&lt;&lt;T as <a class="trait" href="trait.FfiConverter.html" title="trait uniffi::FfiConverter">FfiConverter</a>&gt;::<a class="associatedtype" href="trait.FfiConverter.html#associatedtype.RustType" title="type uniffi::FfiConverter::RustType">RustType</a>&gt;</h4></section></div></details></div><script src="../implementors/uniffi_core/trait.RustBufferFfiConverter.js" data-ignore-extern-crates="std,core,alloc" async></script></section></div></main><div id="rustdoc-vars" data-root-path="../" data-current-crate="uniffi" data-themes="ayu,dark,light" data-resource-suffix="" data-rustdoc-version="1.66.0 (69f9c33d7 2022-12-12)" ></div></body></html>