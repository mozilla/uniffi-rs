
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      
        <link rel="prev" href="../udl/docstrings.html">
      
      
        <link rel="next" href="../futures.html">
      
      
      <link rel="icon" href="../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.6.0, mkdocs-material-9.5.22">
    
    
      
        <title>Procedural Macros: Attributes and Derives - The UniFFI user guide</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/main.732c4fb1.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
    <script>__md_scope=new URL("..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    <body dir="ltr">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#procedural-macros-attributes-and-derives" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href=".." title="The UniFFI user guide" class="md-header__button md-logo" aria-label="The UniFFI user guide" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54Z"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            The UniFFI user guide
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Procedural Macros: Attributes and Derives
            
          </span>
        </div>
      </div>
    </div>
    
    
      <script>var media,input,key,value,palette=__md_get("__palette");if(palette&&palette.color){"(prefers-color-scheme)"===palette.color.media&&(media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']"),palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent"));for([key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header__source">
        <a href="https://github.com/mozilla/uniffi-rs" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.5.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    



<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href=".." title="The UniFFI user guide" class="md-nav__button md-logo" aria-label="The UniFFI user guide" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54Z"/></svg>

    </a>
    The UniFFI user guide
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/mozilla/uniffi-rs" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.5.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../Motivation.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Motivation
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2" >
        
          
          <label class="md-nav__link" for="__nav_2" id="__nav_2_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Tutorial
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2">
            <span class="md-nav__icon md-icon"></span>
            Tutorial
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../Getting_started.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Getting started
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../tutorial/Prerequisites.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Prerequisites
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../tutorial/udl_file.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Describing the interface
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../tutorial/Rust_scaffolding.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Rust scaffolding
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../tutorial/foreign_language_bindings.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Foreign-language bindings
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3" >
        
          
          <label class="md-nav__link" for="__nav_3" id="__nav_3_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    The UDL file
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3">
            <span class="md-nav__icon md-icon"></span>
            The UDL file
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../udl_file_spec.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    The UDL file
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../udl/namespace.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Namespace
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../udl/builtin_types.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Built-in types
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../udl/enumerations.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Enumerations
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../udl/structs.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Structs/Dictionaries
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_6" >
        
          
          <label class="md-nav__link" for="__nav_3_6" id="__nav_3_6_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Functions
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_6_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_6">
            <span class="md-nav__icon md-icon"></span>
            Functions
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../udl/functions.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Functions
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../udl/errors.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Throwing errors
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_7" >
        
          
          <label class="md-nav__link" for="__nav_3_7" id="__nav_3_7_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Interfaces and Objects
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_7_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_7">
            <span class="md-nav__icon md-icon"></span>
            Interfaces and Objects
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../udl/interfaces.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Interfaces/Objects
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../udl/callback_interfaces.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Callback interfaces
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_8" >
        
          
          <label class="md-nav__link" for="__nav_3_8" id="__nav_3_8_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    External Types
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_8_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_8">
            <span class="md-nav__icon md-icon"></span>
            External Types
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../udl/ext_types.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    External types
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../udl/ext_types_external.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Declaring External Types
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../udl/custom_types.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Custom types
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../udl/docstrings.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Docstrings
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  <span class="md-ellipsis">
    Procedural Macros: Attributes and Derives
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="index.html" class="md-nav__link md-nav__link--active">
        
  
  <span class="md-ellipsis">
    Procedural Macros: Attributes and Derives
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#build-workflow" class="md-nav__link">
    <span class="md-ellipsis">
      Build workflow
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#the-uniffiexport-attribute" class="md-nav__link">
    <span class="md-ellipsis">
      The #[uniffi::export] attribute
    </span>
  </a>
  
    <nav class="md-nav" aria-label="The #[uniffi::export] attribute">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#default-values" class="md-nav__link">
    <span class="md-ellipsis">
      Default values
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#renaming-functions-methods-and-constructors" class="md-nav__link">
    <span class="md-ellipsis">
      Renaming functions, methods and constructors
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#the-uniffirecord-derive" class="md-nav__link">
    <span class="md-ellipsis">
      The uniffi::Record derive
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#the-uniffienum-derive" class="md-nav__link">
    <span class="md-ellipsis">
      The uniffi::Enum derive
    </span>
  </a>
  
    <nav class="md-nav" aria-label="The uniffi::Enum derive">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#variant-discriminants" class="md-nav__link">
    <span class="md-ellipsis">
      Variant Discriminants
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#the-uniffiobject-derive" class="md-nav__link">
    <span class="md-ellipsis">
      The uniffi::Object derive
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#the-unifficustom_type-and-unifficustom_newtype-macros" class="md-nav__link">
    <span class="md-ellipsis">
      The uniffi::custom_type and uniffi::custom_newtype macros
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#the-uniffierror-derive" class="md-nav__link">
    <span class="md-ellipsis">
      The uniffi::Error derive
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#the-uniffiexportcallback_interface-attribute" class="md-nav__link">
    <span class="md-ellipsis">
      The #[uniffi::export(callback_interface)] attribute
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#types-from-dependent-crates" class="md-nav__link">
    <span class="md-ellipsis">
      Types from dependent crates
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Types from dependent crates">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#types-from-udl-based-dependent-crates" class="md-nav__link">
    <span class="md-ellipsis">
      Types from UDL-based dependent crates
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#non-uniffi-types-from-dependent-crates" class="md-nav__link">
    <span class="md-ellipsis">
      Non-UniFFI types from dependent crates
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#other-limitations" class="md-nav__link">
    <span class="md-ellipsis">
      Other limitations
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../futures.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Async/Future support
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_6" >
        
          
          <label class="md-nav__link" for="__nav_6" id="__nav_6_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Bindings
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_6_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_6">
            <span class="md-nav__icon md-icon"></span>
            Bindings
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../bindings.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Generating bindings
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../foreign_traits.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Foreign traits
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_6_3" >
        
          
          <label class="md-nav__link" for="__nav_6_3" id="__nav_6_3_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Kotlin
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_6_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_6_3">
            <span class="md-nav__icon md-icon"></span>
            Kotlin
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../kotlin/configuration.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Configuration
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../kotlin/gradle.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Integrating with Gradle
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../kotlin/lifetimes.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Kotlin Lifetimes
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_6_4" >
        
          
          <label class="md-nav__link" for="__nav_6_4" id="__nav_6_4_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Swift
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_6_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_6_4">
            <span class="md-nav__icon md-icon"></span>
            Swift
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../swift/overview.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Swift Bindings
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../swift/configuration.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Configuration
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../swift/module.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Compiling a Swift module
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../swift/xcode.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Integrating with Xcode
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../python/configuration.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Python
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_7" >
        
          
          <label class="md-nav__link" for="__nav_7" id="__nav_7_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Internals
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_7_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_7">
            <span class="md-nav__icon md-icon"></span>
            Internals
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../internals/design_principles.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Design Principles
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../internals/crates.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Navigating the code
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../internals/lifting_and_lowering.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Lifting, Lowering and Serialization
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../internals/object_references.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Managing Object References
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../internals/rendering_foreign_bindings.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Rendering Foreign Bindings
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#build-workflow" class="md-nav__link">
    <span class="md-ellipsis">
      Build workflow
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#the-uniffiexport-attribute" class="md-nav__link">
    <span class="md-ellipsis">
      The #[uniffi::export] attribute
    </span>
  </a>
  
    <nav class="md-nav" aria-label="The #[uniffi::export] attribute">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#default-values" class="md-nav__link">
    <span class="md-ellipsis">
      Default values
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#renaming-functions-methods-and-constructors" class="md-nav__link">
    <span class="md-ellipsis">
      Renaming functions, methods and constructors
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#the-uniffirecord-derive" class="md-nav__link">
    <span class="md-ellipsis">
      The uniffi::Record derive
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#the-uniffienum-derive" class="md-nav__link">
    <span class="md-ellipsis">
      The uniffi::Enum derive
    </span>
  </a>
  
    <nav class="md-nav" aria-label="The uniffi::Enum derive">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#variant-discriminants" class="md-nav__link">
    <span class="md-ellipsis">
      Variant Discriminants
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#the-uniffiobject-derive" class="md-nav__link">
    <span class="md-ellipsis">
      The uniffi::Object derive
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#the-unifficustom_type-and-unifficustom_newtype-macros" class="md-nav__link">
    <span class="md-ellipsis">
      The uniffi::custom_type and uniffi::custom_newtype macros
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#the-uniffierror-derive" class="md-nav__link">
    <span class="md-ellipsis">
      The uniffi::Error derive
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#the-uniffiexportcallback_interface-attribute" class="md-nav__link">
    <span class="md-ellipsis">
      The #[uniffi::export(callback_interface)] attribute
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#types-from-dependent-crates" class="md-nav__link">
    <span class="md-ellipsis">
      Types from dependent crates
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Types from dependent crates">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#types-from-udl-based-dependent-crates" class="md-nav__link">
    <span class="md-ellipsis">
      Types from UDL-based dependent crates
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#non-uniffi-types-from-dependent-crates" class="md-nav__link">
    <span class="md-ellipsis">
      Non-UniFFI types from dependent crates
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#other-limitations" class="md-nav__link">
    <span class="md-ellipsis">
      Other limitations
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  

  
  


<h1 id="procedural-macros-attributes-and-derives">Procedural Macros: Attributes and Derives</h1>
<p>UniFFI allows you to define your function signatures and type definitions directly in your Rust
code, avoiding the need to duplicate them in a UDL file and so avoiding the possibility for the two to get out of sync.
This  mechanism is based on <a href="https://doc.rust-lang.org/reference/procedural-macros.html">Procedural Macros</a> (proc-macros), specifically the attribute and derive macros.</p>
<p>You can have this mechanism extract some kinds of definitions out of your Rust code,
in addition to what is declared in the UDL file. However, you have to make sure
that the UDL file is still valid on its own: All types referenced in fields, parameter and return
types in UDL must also be declared in UDL.</p>
<p>Further, using this capability probably means you still need to refer to the UDL documentation,
because at this time, that documentation tends to conflate the UniFFI type model and the
description of how foreign bindings use that type model. For example, the documentation for
a UDL interface describes both how it is defined in UDL and how Swift and Kotlin might use
that interface. The latter is relevant even if you define the interface using proc-macros
instead of in UDL.</p>
<p><strong>⚠ Warning ⚠</strong> This facility is relatively new, so things may change often. However, this remains
true for all of UniFFI, so proceed with caution and the knowledge that things may break in the future.</p>
<h2 id="build-workflow">Build workflow</h2>
<p>Be sure to use library mode when using UniFFI proc-macros (See the <a href="../tutorial/foreign_language_bindings.html">Foreign language bindings docs</a> for more info).</p>
<p>If your crate's API is declared using only proc-macros and not UDL files, call the <code>uniffi::setup_scaffolding</code> macro at the top of your source code:</p>
<div class="highlight"><pre><span></span><code><span class="n">uniffi</span><span class="p">::</span><span class="n">setup_scaffolding</span><span class="o">!</span><span class="p">();</span>
</code></pre></div>
<p><strong>⚠ Warning ⚠</strong> Do not call both <code>uniffi::setup_scaffolding!()</code> and <code>uniffi::include_scaffolding!!()</code> in the same crate.</p>
<h2 id="the-uniffiexport-attribute">The <code>#[uniffi::export]</code> attribute</h2>
<p>The most important proc-macro is the <code>export</code> attribute. It can be used on functions, <code>impl</code>
blocks, and <code>trait</code> definitions to make UniFFI aware of them.</p>
<div class="highlight"><pre><span></span><code><span class="cp">#[uniffi::export]</span>
<span class="k">fn</span><span class="w"> </span><span class="nf">hello_ffi</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="fm">println!</span><span class="p">(</span><span class="s">&quot;Hello from Rust!&quot;</span><span class="p">);</span>
<span class="p">}</span>

<span class="c1">// Corresponding UDL:</span>
<span class="c1">//</span>
<span class="c1">// interface MyObject {};</span>
<span class="cp">#[derive(uniffi::Object)]</span><span class="w"> </span>
<span class="k">struct</span><span class="w"> </span><span class="nc">MyObject</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="c1">// ...</span>
<span class="p">}</span>

<span class="cp">#[uniffi::export]</span>
<span class="k">impl</span><span class="w"> </span><span class="n">MyObject</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="c1">// Constructors need to be annotated as such.</span>
<span class="w">    </span><span class="c1">// The return value can be either `Self` or `Arc&lt;Self&gt;`</span>
<span class="w">    </span><span class="c1">// It is treated as the primary constructor, so in most languages this is invoked with</span>
<span class="w">    </span><span class="err">`</span><span class="n">MyObject</span><span class="p">()</span><span class="err">`</span><span class="p">.</span>
<span class="w">    </span><span class="cp">#[uniffi::constructor]</span>
<span class="w">    </span><span class="k">fn</span><span class="w"> </span><span class="nf">new</span><span class="p">(</span><span class="n">argument</span><span class="p">:</span><span class="w"> </span><span class="nb">String</span><span class="p">)</span><span class="w"> </span><span class="p">-&gt;</span><span class="w"> </span><span class="nc">Arc</span><span class="o">&lt;</span><span class="bp">Self</span><span class="o">&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="c1">// ...</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="c1">// Constructors with different names are also supported, usually invoked</span>
<span class="w">    </span><span class="c1">// as `MyObject.named()` (depending on the target language)</span>
<span class="w">    </span><span class="cp">#[uniffi::constructor]</span>
<span class="w">    </span><span class="k">fn</span><span class="w"> </span><span class="nf">named</span><span class="p">()</span><span class="w"> </span><span class="p">-&gt;</span><span class="w"> </span><span class="nc">Arc</span><span class="o">&lt;</span><span class="bp">Self</span><span class="o">&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="c1">// ...</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="c1">// All functions that are not constructors must have a `self` argument</span>
<span class="w">    </span><span class="k">fn</span><span class="w"> </span><span class="nf">method_a</span><span class="p">(</span><span class="o">&amp;</span><span class="bp">self</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="c1">// ...</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="c1">// Returning objects is also supported, either as `Self` or `Arc&lt;Self&gt;`</span>
<span class="w">    </span><span class="k">fn</span><span class="w"> </span><span class="nf">method_b</span><span class="p">(</span><span class="bp">self</span><span class="p">:</span><span class="w"> </span><span class="nc">Arc</span><span class="o">&lt;</span><span class="bp">Self</span><span class="o">&gt;</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="c1">// ...</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>

<span class="c1">// Corresponding UDL:</span>
<span class="c1">// [Trait]</span>
<span class="c1">// interface MyTrait {};</span>
<span class="cp">#[uniffi::export]</span>
<span class="k">trait</span><span class="w"> </span><span class="n">MyTrait</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="c1">// ...</span>
<span class="p">}</span>

<span class="c1">// Corresponding UDL:</span>
<span class="c1">// [Trait, WithForeign]</span>
<span class="c1">// interface MyTrait {};</span>
<span class="cp">#[uniffi::export(with_foreign)]</span>
<span class="k">trait</span><span class="w"> </span><span class="n">MyTrait</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="c1">// ...</span>
<span class="p">}</span>
</code></pre></div>
<p>All owned <a href="../udl/builtin_types.html">builtin types</a> and user-defined types can be used as arguments
and return types.</p>
<p>Arguments and receivers can also be references to these types, for example:</p>
<div class="highlight"><pre><span></span><code><span class="c1">// Input data types as references</span>
<span class="cp">#[uniffi::export]</span>
<span class="k">fn</span><span class="w"> </span><span class="nf">process_data</span><span class="p">(</span><span class="n">a</span><span class="p">:</span><span class="w"> </span><span class="kp">&amp;</span><span class="nc">MyRecord</span><span class="p">,</span><span class="w"> </span><span class="n">b</span><span class="p">:</span><span class="w"> </span><span class="kp">&amp;</span><span class="nc">MyEnum</span><span class="p">,</span><span class="w"> </span><span class="n">c</span><span class="p">:</span><span class="w"> </span><span class="nb">Option</span><span class="o">&lt;&amp;</span><span class="n">MyRecord</span><span class="o">&gt;</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="o">..</span><span class="p">.</span>
<span class="p">}</span>

<span class="cp">#[uniffi::export]</span>
<span class="k">impl</span><span class="w"> </span><span class="n">Foo</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="c1">// Methods can take a `&amp;self`, which will be borrowed from `Arc&lt;Self&gt;`</span>
<span class="w">  </span><span class="k">fn</span><span class="w"> </span><span class="nf">some_method</span><span class="p">(</span><span class="o">&amp;</span><span class="bp">self</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="o">..</span><span class="p">.</span>
<span class="w">  </span><span class="p">}</span>
<span class="p">}</span>

<span class="c1">// Input foo as an Arc and bar as a reference</span>
<span class="k">fn</span><span class="w"> </span><span class="nf">call_both</span><span class="p">(</span><span class="n">foo</span><span class="p">:</span><span class="w"> </span><span class="nc">Arc</span><span class="o">&lt;</span><span class="n">Foo</span><span class="o">&gt;</span><span class="p">,</span><span class="w"> </span><span class="n">bar</span><span class="p">:</span><span class="w"> </span><span class="kp">&amp;</span><span class="nc">Foo</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="n">foo</span><span class="p">.</span><span class="n">some_method</span><span class="p">();</span>
<span class="w">  </span><span class="n">bar</span><span class="p">.</span><span class="n">some_method</span><span class="p">();</span>
<span class="p">}</span>
</code></pre></div>
<p>The one restriction is that the reference must be visible in the function signature.  This wouldn't
work:</p>
<div class="highlight"><pre><span></span><code><span class="k">type</span><span class="w"> </span><span class="nc">MyFooRef</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">&amp;&#39;</span><span class="nb">static</span><span class="w"> </span><span class="n">Foo</span><span class="p">;</span>

<span class="c1">// ERROR: UniFFI won&#39;t recognize that the `foo` argument is a reference.</span>
<span class="cp">#[uniffi::export]</span>
<span class="k">fn</span><span class="w"> </span><span class="nf">do_something</span><span class="p">(</span><span class="n">foo</span><span class="p">:</span><span class="w"> </span><span class="nc">MyFooRef</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="p">}</span>
</code></pre></div>
<h3 id="default-values">Default values</h3>
<p>Exported functions/methods can have default values using the <code>default</code> argument of the attribute macro that wraps them.
<code>default</code> inputs a comma-separated list of <code>[name]=[value]</code> items.</p>
<div class="highlight"><pre><span></span><code><span class="cp">#[uniffi::export(default(text = </span><span class="s">&quot; &quot;</span><span class="cp">, max_splits = None))]</span>
<span class="k">pub</span><span class="w"> </span><span class="k">fn</span><span class="w"> </span><span class="nf">split</span><span class="p">(</span>
<span class="w">    </span><span class="n">text</span><span class="p">:</span><span class="w"> </span><span class="nb">String</span><span class="p">,</span>
<span class="w">    </span><span class="n">sep</span><span class="p">:</span><span class="w"> </span><span class="nb">String</span><span class="p">,</span>
<span class="w">    </span><span class="n">max_splits</span><span class="p">:</span><span class="w"> </span><span class="nb">Option</span><span class="o">&lt;</span><span class="kt">u32</span><span class="o">&gt;</span><span class="p">,</span>
<span class="p">)</span><span class="w"> </span><span class="p">-&gt;</span><span class="w"> </span><span class="nb">Vec</span><span class="o">&lt;</span><span class="nb">String</span><span class="o">&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="o">..</span><span class="p">.</span>
<span class="p">}</span>

<span class="cp">#[derive(uniffi::Object)]</span>
<span class="k">pub</span><span class="w"> </span><span class="k">struct</span><span class="w"> </span><span class="nc">TextSplitter</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="o">..</span><span class="p">.</span><span class="w"> </span><span class="p">}</span>

<span class="cp">#[uniffi::export]</span>
<span class="k">impl</span><span class="w"> </span><span class="n">TextSplitter</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="cp">#[uniffi::constructor(default(ignore_unicode_errors = false))]</span>
<span class="w">    </span><span class="k">fn</span><span class="w"> </span><span class="nf">new</span><span class="p">(</span><span class="n">ignore_unicode_errors</span><span class="p">:</span><span class="w"> </span><span class="nc">boolean</span><span class="p">)</span><span class="w"> </span><span class="p">-&gt;</span><span class="w"> </span><span class="nc">Self</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="o">..</span><span class="p">.</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="cp">#[uniffi::method(default(text = </span><span class="s">&quot; &quot;</span><span class="cp">, max_splits = None))]</span>
<span class="w">    </span><span class="k">fn</span><span class="w"> </span><span class="nf">split</span><span class="p">(</span>
<span class="w">        </span><span class="n">text</span><span class="p">:</span><span class="w"> </span><span class="nb">String</span><span class="p">,</span>
<span class="w">        </span><span class="n">sep</span><span class="p">:</span><span class="w"> </span><span class="nb">String</span><span class="p">,</span>
<span class="w">        </span><span class="n">max_splits</span><span class="p">:</span><span class="w"> </span><span class="nb">Option</span><span class="o">&lt;</span><span class="kt">u32</span><span class="o">&gt;</span><span class="p">,</span>
<span class="w">    </span><span class="p">)</span><span class="w"> </span><span class="p">-&gt;</span><span class="w"> </span><span class="nb">Vec</span><span class="o">&lt;</span><span class="nb">String</span><span class="o">&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="o">..</span><span class="p">.</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>
</code></pre></div>
<p>Supported default values:
  - String, integer, float, and boolean literals
  - <code>[]</code> for empty Vecs
  - <code>Option&lt;T&gt;</code> allows either <code>None</code> or <code>Some(T)</code></p>
<h3 id="renaming-functions-methods-and-constructors">Renaming functions, methods and constructors</h3>
<p>A single exported function can specify an alternate name to be used by the bindings by specifying a <code>name</code> attribute.</p>
<p><div class="highlight"><pre><span></span><code><span class="cp">#[uniffi::export(name = </span><span class="s">&quot;something&quot;</span><span class="cp">)]</span>
<span class="k">fn</span><span class="w"> </span><span class="nf">do_something</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="p">}</span>
</code></pre></div>
will be exposed to foreign bindings as a namespace function <code>something()</code></p>
<p>You can also rename constructors and methods:
<div class="highlight"><pre><span></span><code><span class="cp">#[uniffi::export]</span>
<span class="k">impl</span><span class="w"> </span><span class="n">Something</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="c1">// Set this as the default constructor by naming it `new`</span>
<span class="w">    </span><span class="cp">#[uniffi::constructor(name = </span><span class="s">&quot;new&quot;</span><span class="cp">)]</span>
<span class="w">    </span><span class="k">fn</span><span class="w"> </span><span class="nf">make_new</span><span class="p">()</span><span class="w"> </span><span class="p">-&gt;</span><span class="w"> </span><span class="nc">Arc</span><span class="o">&lt;</span><span class="bp">Self</span><span class="o">&gt;</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="o">..</span><span class="p">.</span><span class="w"> </span><span class="p">}</span>

<span class="w">    </span><span class="c1">// Expose this as `obj.something()`</span>
<span class="w">    </span><span class="cp">#[uniffi::method(name = </span><span class="s">&quot;something&quot;</span><span class="cp">)]</span>
<span class="w">    </span><span class="k">fn</span><span class="w"> </span><span class="nf">do_something</span><span class="p">(</span><span class="o">&amp;</span><span class="bp">self</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="p">}</span>
<span class="p">}</span>
</code></pre></div></p>
<h2 id="the-uniffirecord-derive">The <code>uniffi::Record</code> derive</h2>
<p>The <code>Record</code> derive macro exposes a <code>struct</code> with named fields over FFI. All types that are
supported as parameter and return types by <code>#[uniffi::export]</code> are also supported as field types
here.</p>
<p>It is permitted to use this macro on a type that is also defined in the UDL file, as long as all
field types are UniFFI builtin types; user-defined types might be allowed in the future. You also
have to maintain a consistent field order between the Rust and UDL files (otherwise compilation
will fail).</p>
<div class="highlight"><pre><span></span><code><span class="cp">#[derive(uniffi::Record)]</span>
<span class="k">pub</span><span class="w"> </span><span class="k">struct</span><span class="w"> </span><span class="nc">MyRecord</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">pub</span><span class="w"> </span><span class="n">field_a</span><span class="p">:</span><span class="w"> </span><span class="nb">String</span><span class="p">,</span>
<span class="w">    </span><span class="k">pub</span><span class="w"> </span><span class="n">field_b</span><span class="p">:</span><span class="w"> </span><span class="nb">Option</span><span class="o">&lt;</span><span class="n">Arc</span><span class="o">&lt;</span><span class="n">MyObject</span><span class="o">&gt;&gt;</span><span class="p">,</span>
<span class="w">    </span><span class="c1">// Fields can have a default values</span>
<span class="w">    </span><span class="cp">#[uniffi(default = </span><span class="s">&quot;hello&quot;</span><span class="cp">)]</span>
<span class="w">    </span><span class="k">pub</span><span class="w"> </span><span class="n">greeting</span><span class="p">:</span><span class="w"> </span><span class="nb">String</span><span class="p">,</span>
<span class="w">    </span><span class="cp">#[uniffi(default = true)]</span>
<span class="w">    </span><span class="k">pub</span><span class="w"> </span><span class="n">some_flag</span><span class="p">:</span><span class="w"> </span><span class="kt">bool</span><span class="p">,</span>
<span class="p">}</span>
</code></pre></div>
<h2 id="the-uniffienum-derive">The <code>uniffi::Enum</code> derive</h2>
<p>The <code>Enum</code> derive macro works much like the <code>Record</code> derive macro. Any fields inside variants must
be named. All types that are supported as parameter and return types by <code>#[uniffi::export]</code> are
also supported as field types.</p>
<p>It is permitted to use this macro on a type that is also defined in the UDL file as long as the
two definitions are equal in the names and ordering of variants and variant fields, and any field
types inside variants are UniFFI builtin types; user-defined types might be allowed in the future.</p>
<div class="highlight"><pre><span></span><code><span class="cp">#[derive(uniffi::Enum)]</span>
<span class="k">pub</span><span class="w"> </span><span class="k">enum</span><span class="w"> </span><span class="nc">MyEnum</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">Fieldless</span><span class="p">,</span>
<span class="w">    </span><span class="n">WithFields</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="n">foo</span><span class="p">:</span><span class="w"> </span><span class="kt">u8</span><span class="p">,</span>
<span class="w">        </span><span class="n">bar</span><span class="p">:</span><span class="w"> </span><span class="nb">Vec</span><span class="o">&lt;</span><span class="kt">i32</span><span class="o">&gt;</span><span class="p">,</span>
<span class="w">    </span><span class="p">},</span>
<span class="w">    </span><span class="n">WithValue</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">3</span><span class="p">,</span>
<span class="p">}</span>
</code></pre></div>
<h3 id="variant-discriminants">Variant Discriminants</h3>
<p>Variant discriminants are accepted by the macro but how they are used depends on the bindings.</p>
<p>For example this enum:</p>
<div class="highlight"><pre><span></span><code><span class="cp">#[derive(uniffi::Enum)]</span>
<span class="k">pub</span><span class="w"> </span><span class="k">enum</span><span class="w"> </span><span class="nc">MyEnum</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">Foo</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">3</span><span class="p">,</span>
<span class="w">    </span><span class="n">Bar</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">4</span><span class="p">,</span>
<span class="p">}</span>
</code></pre></div>
<p>would give you in Kotlin &amp; Swift:</p>
<div class="highlight"><pre><span></span><code><span class="c1">// kotlin</span>
<span class="kd">enum</span> <span class="nc">class</span> <span class="n">MyEnum</span> <span class="p">{</span>
    <span class="n">FOO</span><span class="p">,</span>
    <span class="n">BAR</span><span class="p">;</span>
    <span class="n">companion</span> <span class="n">object</span>
<span class="p">}</span>
<span class="c1">// swift</span>
<span class="kd">public</span> <span class="kd">enum</span> <span class="nc">MyEnum</span> <span class="p">{</span>
    <span class="k">case</span> <span class="n">foo</span>
    <span class="k">case</span> <span class="n">bar</span>
<span class="p">}</span>
</code></pre></div>
<p>which means you cannot use the platforms helpful methods like <code>value</code> or <code>rawValue</code> to get the underlying discriminants. Adding a <code>repr</code> will allow the type to be defined in the foreign bindings.</p>
<p>For example:</p>
<div class="highlight"><pre><span></span><code><span class="c1">// added the repr(u8), also u16 -&gt; u64 supported</span>
<span class="cp">#[repr(u8)]</span>
<span class="cp">#[derive(uniffi::Enum)]</span>
<span class="k">pub</span><span class="w"> </span><span class="k">enum</span><span class="w"> </span><span class="nc">MyEnum</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">Foo</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">3</span><span class="p">,</span>
<span class="w">    </span><span class="n">Bar</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">4</span><span class="p">,</span>
<span class="p">}</span>
</code></pre></div>
<p>will now generate:</p>
<div class="highlight"><pre><span></span><code><span class="c1">// kotlin</span>
<span class="kd">enum</span> <span class="nc">class</span> <span class="n">MyEnum</span><span class="p">(</span><span class="n">val</span> <span class="n">value</span><span class="p">:</span> <span class="n">UByte</span><span class="p">)</span> <span class="p">{</span>
    <span class="n">FOO</span><span class="p">(</span><span class="mi">3</span><span class="n">u</span><span class="p">),</span>
    <span class="n">BAR</span><span class="p">(</span><span class="mi">4</span><span class="n">u</span><span class="p">);</span>
    <span class="n">companion</span> <span class="n">object</span>
<span class="p">}</span>

<span class="c1">// swift</span>
<span class="kd">public</span> <span class="kd">enum</span> <span class="nc">MyEnum</span> <span class="p">:</span> <span class="nb">UInt8</span> <span class="p">{</span>
    <span class="k">case</span> <span class="n">foo</span> <span class="p">=</span> <span class="mi">3</span>
    <span class="k">case</span> <span class="n">bar</span> <span class="p">=</span> <span class="mi">4</span>
<span class="p">}</span>
</code></pre></div>
<h2 id="the-uniffiobject-derive">The <code>uniffi::Object</code> derive</h2>
<p>This derive can be used to replace an <code>interface</code> definition in UDL. Every object type must have
<em>either</em> an <code>interface</code> definition in UDL <em>or</em> use this derive macro. However, <code>#[uniffi::export]</code>
can be used on an impl block for an object type regardless of whether this derive is used. You can
also mix and match, and define some method of an object via proc-macro while falling back to UDL
for methods that are not supported by <code>#[uniffi::export]</code> yet; just make sure to use separate
<code>impl</code> blocks:</p>
<div class="highlight"><pre><span></span><code><span class="o">//</span><span class="w"> </span>UDL<span class="w"> </span>file

interface<span class="w"> </span>Foo<span class="w"> </span>{
<span class="w">    </span>void<span class="w"> </span>method_a();
};
</code></pre></div>
<div class="highlight"><pre><span></span><code><span class="c1">// Rust file</span>

<span class="c1">// Not deriving uniffi::Object since it is defined in UDL</span>
<span class="k">struct</span><span class="w"> </span><span class="nc">Foo</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="c1">// ...</span>
<span class="p">}</span>

<span class="c1">// Implementation of the method defined in UDL</span>
<span class="k">impl</span><span class="w"> </span><span class="n">Foo</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">fn</span><span class="w"> </span><span class="nf">method_a</span><span class="p">(</span><span class="o">&amp;</span><span class="bp">self</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="c1">// ...</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>

<span class="c1">// Another impl block with an additional method</span>
<span class="cp">#[uniffi::export]</span>
<span class="k">impl</span><span class="w"> </span><span class="n">Foo</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">fn</span><span class="w"> </span><span class="nf">method_b</span><span class="p">(</span><span class="o">&amp;</span><span class="bp">self</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="c1">// ...</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>
</code></pre></div>
<h2 id="the-unifficustom_type-and-unifficustom_newtype-macros">The <code>uniffi::custom_type</code> and <code>uniffi::custom_newtype</code> macros</h2>
<p>There are 2 macros available which allow procmacros to support "custom types" as described in the
<a href="../udl/custom_types.html">UDL documentation for Custom Types</a></p>
<p>The <code>uniffi::custom_type!</code> macro requires you to specify the name of the custom type, and the name of the
builtin which implements this type. Use of this macro requires you to manually implement the
<code>UniffiCustomTypeConverter</code> trait for for your type, as shown below.
<div class="highlight"><pre><span></span><code><span class="k">pub</span><span class="w"> </span><span class="k">struct</span><span class="w"> </span><span class="nc">Uuid</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">val</span><span class="p">:</span><span class="w"> </span><span class="nb">String</span><span class="p">,</span>
<span class="p">}</span>

<span class="c1">// Use `Uuid` as a custom type, with `String` as the Builtin</span>
<span class="n">uniffi</span><span class="p">::</span><span class="n">custom_type</span><span class="o">!</span><span class="p">(</span><span class="n">Uuid</span><span class="p">,</span><span class="w"> </span><span class="nb">String</span><span class="p">);</span>

<span class="k">impl</span><span class="w"> </span><span class="n">UniffiCustomTypeConverter</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">Uuid</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">type</span><span class="w"> </span><span class="nc">Builtin</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">String</span><span class="p">;</span>

<span class="w">    </span><span class="k">fn</span><span class="w"> </span><span class="nf">into_custom</span><span class="p">(</span><span class="n">val</span><span class="p">:</span><span class="w"> </span><span class="nc">Self</span><span class="p">::</span><span class="n">Builtin</span><span class="p">)</span><span class="w"> </span><span class="p">-&gt;</span><span class="w"> </span><span class="nc">uniffi</span><span class="p">::</span><span class="nb">Result</span><span class="o">&lt;</span><span class="bp">Self</span><span class="o">&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="nb">Ok</span><span class="p">(</span><span class="n">Uuid</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="n">val</span><span class="w"> </span><span class="p">})</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="k">fn</span><span class="w"> </span><span class="nf">from_custom</span><span class="p">(</span><span class="n">obj</span><span class="p">:</span><span class="w"> </span><span class="nc">Self</span><span class="p">)</span><span class="w"> </span><span class="p">-&gt;</span><span class="w"> </span><span class="nc">Self</span><span class="p">::</span><span class="n">Builtin</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="n">obj</span><span class="p">.</span><span class="n">val</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>
</code></pre></div></p>
<p>There's also a <code>uniffi::custom_newtype!</code> macro, designed for custom types which use the
"new type" idiom. You still need to specify the type name and builtin type, but because UniFFI
is able to make assumptions about how the type is laid out, <code>UniffiCustomTypeConverter</code>
is implemented automatically.</p>
<div class="highlight"><pre><span></span><code><span class="n">uniffi</span><span class="p">::</span><span class="n">custom_newtype</span><span class="o">!</span><span class="p">(</span><span class="n">NewTypeHandle</span><span class="p">,</span><span class="w"> </span><span class="kt">i64</span><span class="p">);</span>
<span class="k">pub</span><span class="w"> </span><span class="k">struct</span><span class="w"> </span><span class="nc">NewtypeHandle</span><span class="p">(</span><span class="kt">i64</span><span class="p">);</span>
</code></pre></div>
<p>and that's it!</p>
<h2 id="the-uniffierror-derive">The <code>uniffi::Error</code> derive</h2>
<p>The <code>Error</code> derive registers a type as an error and can be used on any enum that the <code>Enum</code> derive also accepts.
By default, it exposes any variant fields to the foreign code.
This type can then be used as the <code>E</code> in a <code>Result&lt;T, E&gt;</code> return type of an exported function or method.
The generated foreign function for an exported function with a <code>Result&lt;T, E&gt;</code> return type
will have the result's <code>T</code> as its return type and throw the error in case the Rust call returns <code>Err(e)</code>.</p>
<div class="highlight"><pre><span></span><code><span class="cp">#[derive(uniffi::Error)]</span>
<span class="k">pub</span><span class="w"> </span><span class="k">enum</span><span class="w"> </span><span class="nc">MyError</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">MissingInput</span><span class="p">,</span>
<span class="w">    </span><span class="n">IndexOutOfBounds</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="n">index</span><span class="p">:</span><span class="w"> </span><span class="kt">u32</span><span class="p">,</span>
<span class="w">        </span><span class="n">size</span><span class="p">:</span><span class="w"> </span><span class="kt">u32</span><span class="p">,</span>
<span class="w">    </span><span class="p">}</span>
<span class="w">    </span><span class="c1">// tuple-enums work.</span>
<span class="w">    </span><span class="n">Generic</span><span class="p">(</span><span class="nb">String</span><span class="p">),</span>
<span class="p">}</span>

<span class="cp">#[uniffi::export]</span>
<span class="k">fn</span><span class="w"> </span><span class="nf">do_thing</span><span class="p">()</span><span class="w"> </span><span class="p">-&gt;</span><span class="w"> </span><span class="nb">Result</span><span class="o">&lt;</span><span class="p">(),</span><span class="w"> </span><span class="n">MyError</span><span class="o">&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="c1">// ...</span>
<span class="p">}</span>
</code></pre></div>
<p>You can also use the helper attribute <code>#[uniffi(flat_error)]</code> to expose just the variants but none of the fields.
In this case the error will be serialized using Rust's <code>ToString</code> trait
and will be accessible as the only field on each of the variants.
The types of the fields can be any UniFFI supported type and don't need to implement any special traits.</p>
<div class="highlight"><pre><span></span><code><span class="cp">#[derive(uniffi::Error)]</span>
<span class="cp">#[uniffi(flat_error)]</span>
<span class="k">pub</span><span class="w"> </span><span class="k">enum</span><span class="w"> </span><span class="nc">MyApiError</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">Http</span><span class="p">(</span><span class="n">reqwest</span><span class="p">::</span><span class="n">Error</span><span class="p">),</span>
<span class="w">    </span><span class="n">Json</span><span class="p">(</span><span class="n">serde_json</span><span class="p">::</span><span class="n">Error</span><span class="p">),</span>
<span class="p">}</span>

<span class="c1">// ToString is not usually implemented directly, but you get it for free by implementing Display.</span>
<span class="c1">// This impl could also be generated by a proc-macro, for example thiserror::Error.</span>
<span class="k">impl</span><span class="w"> </span><span class="n">std</span><span class="p">::</span><span class="n">fmt</span><span class="p">::</span><span class="n">Display</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">MyApiError</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="c1">// ...</span>
<span class="p">}</span>

<span class="cp">#[uniffi::export]</span>
<span class="k">fn</span><span class="w"> </span><span class="nf">do_http_request</span><span class="p">()</span><span class="w"> </span><span class="p">-&gt;</span><span class="w"> </span><span class="nb">Result</span><span class="o">&lt;</span><span class="p">(),</span><span class="w"> </span><span class="n">MyApiError</span><span class="o">&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="c1">// ...</span>
<span class="p">}</span>
</code></pre></div>
<h2 id="the-uniffiexportcallback_interface-attribute">The <code>#[uniffi::export(callback_interface)]</code> attribute</h2>
<p><code>#[uniffi::export(callback_interface)]</code> can be used to export a <a href="../udl/callback_interfaces.html">callback interface</a> definition.
This allows the foreign bindings to implement the interface and pass an instance to the Rust code.</p>
<div class="highlight"><pre><span></span><code><span class="cp">#[uniffi::export(callback_interface)]</span>
<span class="k">pub</span><span class="w"> </span><span class="k">trait</span><span class="w"> </span><span class="n">Person</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">fn</span><span class="w"> </span><span class="nf">name</span><span class="p">()</span><span class="w"> </span><span class="p">-&gt;</span><span class="w"> </span><span class="nb">String</span><span class="p">;</span>
<span class="w">    </span><span class="k">fn</span><span class="w"> </span><span class="nf">age</span><span class="p">()</span><span class="w"> </span><span class="p">-&gt;</span><span class="w"> </span><span class="kt">u32</span><span class="p">;</span>
<span class="p">}</span>

<span class="c1">// Corresponding UDL:</span>
<span class="c1">// callback interface Person {</span>
<span class="c1">//     string name();</span>
<span class="c1">//     u32 age();</span>
<span class="c1">// }</span>
</code></pre></div>
<h2 id="types-from-dependent-crates">Types from dependent crates</h2>
<p>When using proc-macros, you can use types from dependent crates in your exported library, as long as
the dependent crate annotates the type with one of the UniFFI derives.  However, there are a couple
exceptions:</p>
<h3 id="types-from-udl-based-dependent-crates">Types from UDL-based dependent crates</h3>
<p>If the dependent crate uses a UDL file to define their types, then you must invoke one of the
<code>uniffi::use_udl_*!</code> macros, for example:</p>
<div class="highlight"><pre><span></span><code><span class="n">uniffi</span><span class="p">::</span><span class="n">use_udl_record</span><span class="o">!</span><span class="p">(</span><span class="n">dependent_crate</span><span class="p">,</span><span class="w"> </span><span class="n">RecordType</span><span class="p">);</span>
<span class="n">uniffi</span><span class="p">::</span><span class="n">use_udl_enum</span><span class="o">!</span><span class="p">(</span><span class="n">dependent_crate</span><span class="p">,</span><span class="w"> </span><span class="n">EnumType</span><span class="p">);</span>
<span class="n">uniffi</span><span class="p">::</span><span class="n">use_udl_error</span><span class="o">!</span><span class="p">(</span><span class="n">dependent_crate</span><span class="p">,</span><span class="w"> </span><span class="n">ErrorType</span><span class="p">);</span>
<span class="n">uniffi</span><span class="p">::</span><span class="n">use_udl_object</span><span class="o">!</span><span class="p">(</span><span class="n">dependent_crate</span><span class="p">,</span><span class="w"> </span><span class="n">ObjectType</span><span class="p">);</span>
</code></pre></div>
<h3 id="non-uniffi-types-from-dependent-crates">Non-UniFFI types from dependent crates</h3>
<p>If the dependent crate doesn't define the type in a UDL file or use one of the UniFFI derive macros,
then it's currently not possible to use them in an proc-macro exported interface.  However, we hope
to fix this limitation soon.</p>
<h2 id="other-limitations">Other limitations</h2>
<p>In addition to the per-item limitations of the macros presented above, there is also currently a
global restriction: You can only use the proc-macros inside a crate whose name is the same as the
namespace in your UDL file. This restriction will be lifted in the future.</p>












                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    <script id="__config" type="application/json">{"base": "..", "features": [], "search": "../assets/javascripts/workers/search.b8dbb3d2.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}}</script>
    
    
      <script src="../assets/javascripts/bundle.5cfa9459.min.js"></script>
      
    
  </body>
</html>